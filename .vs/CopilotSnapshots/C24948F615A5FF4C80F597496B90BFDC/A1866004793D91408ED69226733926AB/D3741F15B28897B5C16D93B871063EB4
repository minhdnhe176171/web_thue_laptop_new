@model web_chothue_laptop.Models.CreateLaptopViewModel
@{
    ViewData["Title"] = "Tạo laptop";
}

@functions {
    private static string TranslateStatus(string? name) => name?.ToLower() switch
    {
        "pending" => "Đang chờ xử lý",
        "đang chờ xử lý" => "Đang chờ xử lý",
        "approved" => "Đã phê duyệt",
        "rejected" => "Bị từ chối",
        _ => name ?? string.Empty
    };
}

<h2>Tạo laptop</h2>

<form asp-action="Create" method="post">
    <div class="form-group">
        <label asp-for="Name"></label>
        <input asp-for="Name" class="form-control" />
        <span asp-validation-for="Name" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label>Hãng</label>
        <select asp-for="BrandId" class="form-control">
            <option value="">-- Chọn hãng --</option>
@foreach(var b in (IEnumerable<web_chothue_laptop.Models.Brand>)ViewBag.Brands)
{
    <option value="@b.Id">@b.BrandName</option>
}
        </select>
    </div>

    <div class="form-group">
        <label>Giá</label>
        <div>
            <label><input type="radio" name="Price" value="100000" /> 100,000</label>
            <label><input type="radio" name="Price" value="200000" /> 200,000</label>
            <label><input type="radio" name="Price" value="300000" /> 300,000</label>
            <label><input type="radio" name="Price" value="400000" /> 400,000</label>
            <label><input type="radio" name="Price" value="500000" /> 500,000</label>
        </div>
    </div>

    <h4>Thông số kỹ thuật</h4>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label>CPU</label>
            <input asp-for="Cpu" class="form-control" />
        </div>
        <div class="form-group col-md-6">
            <label>RAM</label>
            <div>
                <label class="mr-2"><input type="checkbox" name="RamSize" value="8GB" @(Model?.RamSize == "8GB" ? "checked" : "") /> 8GB</label>
                <label class="mr-2"><input type="checkbox" name="RamSize" value="16GB" @(Model?.RamSize == "16GB" ? "checked" : "") /> 16GB</label>
                <label class="mr-2"><input type="checkbox" name="RamSize" value="32GB" @(Model?.RamSize == "32GB" ? "checked" : "") /> 32GB</label>
                <label class="mr-2"><input type="checkbox" name="RamSize" value="64GB" @(Model?.RamSize == "64GB" ? "checked" : "") /> 64GB</label>
            </div>
        </div>
        <div class="form-group col-md-6">
            <label>Lưu trữ</label>
            <input asp-for="Storage" class="form-control" />
        </div>
        <div class="form-group col-md-6">
            <label>GPU</label>
            <input asp-for="Gpu" class="form-control" />
        </div>
    </div>



    <div class="form-group">
        <label>Tải ảnh lên</label>
        <input type="file" class="form-control" />
        <small class="form-text text-muted">Tệp tải lên không được lưu trong bản demo.</small>
    </div>

    <button type="submit" class="btn btn-primary">Gửi để duyệt</button>
    <a class="btn btn-secondary" href="/Student/Index">Hủy</a>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        // Make the RAM checkboxes behave like radio buttons (only one selectable)
        document.querySelectorAll('input[name="RamSize"]').forEach(function (cb) {
            cb.addEventListener('change', function (e) {
                if (e.target.checked) {
                    document.querySelectorAll('input[name="RamSize"]').forEach(function (x) {
                        if (x !== e.target) x.checked = false;
                    });
                }
            });
        });
    </script>
}
